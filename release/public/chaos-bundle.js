function chaosHook(){var y,f,u,v,d,o,m,r,i=500,c=500,t=[],h=!1;function x(){w(),y=document.getElementById("mainBoard"),f=y.getContext("2d"),document.getElementById("go").onclick=T,document.getElementById("clear").onclick=g,document.getElementById("skip").onclick=R,document.getElementById("polygons").onchange=z,M(4),document.getElementById("rules").onchange=G,r=1,document.getElementById("sizes").onchange=L}function E(){for(var e=0;e<250;e++)B()}function B(){var e;f.fillRect(v,d,1,1),1==r?e=function S(){for(var e=Math.floor(Math.random()*t.length);e==o;)e=Math.floor(Math.random()*t.length);return e}():2==r?e=function H(){return Math.floor(Math.random()*t.length)}():3==r?e=function k(){for(var e=Math.floor(Math.random()*t.length);o==(e+1)%t.length;)e=Math.floor(Math.random()*t.length);return e}():4==r?e=function C(){for(var e=Math.floor(Math.random()*t.length);e==(o+1)%t.length||e==(o-1+t.length)%t.length;)e=Math.floor(Math.random()*t.length);return e}():5==r&&(e=function V(){for(var e=Math.floor(Math.random()*t.length);e==(o+1)%t.length||e==(m-1+t.length)%t.length;)e=Math.floor(Math.random()*t.length);return e}()),m=o,o=e,v=function j(e,n,a){return(t[n].x+e)/2}(v,e),d=function D(e,n,a){return(t[n].y+e)/2}(d,e)}function T(){h?(h=!1,this.innerHTML="Go",window.clearInterval(u),u=null):(h=!0,this.innerHTML="Stop",u=window.setInterval(E,50))}function g(){f.clearRect(0,0,i,c),h&&(h=!1,document.getElementById("go").innerHTML="Go",window.clearInterval(u),u=null),w()}function R(){for(var e=0;e<1e4;e++)B()}function w(){v=Math.floor(Math.random()*i),d=Math.floor(Math.random()*c),o=-1,m=-1}function z(){g(),t=[],M(this.options[this.selectedIndex].value)}function M(e){for(var n=i/2,a=3*Math.PI/2,l=0;l<e;l++){var s=a+l*Math.PI*2/e,p=Math.floor(n*Math.cos(s)+n),P=Math.floor(n*Math.sin(s)+n);t[l]={x:p,y:P}}}function G(){g(),r=this.options[this.selectedIndex].value}function L(){c=parseInt(this.options[this.selectedIndex].value),i=c;var e=document.getElementById("mainBoard");e.height=c,e.width=i,g();var n=document.getElementById("polygons");t=[],M(n.options[n.selectedIndex].value)}window.onload=x,"complete"==document.readyState&&x()}chaosHook();